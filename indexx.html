<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>Главы</title>
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="supabase-config.js"></script>
<script src="script.js"></script>
</head>
<body>
<h1>Главы</h1>
<div id="chaptersList"></div>
<script>
async function loadChapters() {
    const { data, error } = await supabase.from('chapters').select('*').order('created_at', {ascending:true});
    if(error) alert(error.message);
    else {
        const list = document.getElementById('chaptersList');
        list.innerHTML = '';
        data.forEach(chap => {
            const div = document.createElement('div');
            div.innerHTML = `<h2>${chap.title}</h2><p>${chap.text}</p>`;
            list.appendChild(div);
        });
    }
}
loadChapters();
</script>
</body>
</html>
